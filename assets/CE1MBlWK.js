import{i as $,J as N,Q as Z,R as ee,G as H,S as te,U as m,V as J,W as M,x as O,X as k,g as oe}from"./D_QEuA6t.js";function Q(e){return Z()?(ee(e),!0):!1}const ne=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const le=Object.prototype.toString,re=e=>le.call(e)==="[object Object]",W=()=>{};function Y(e,t){function o(...r){return new Promise((c,f)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(c).catch(f)})}return o}function se(e,t={}){let o,r,c=W;const f=s=>{clearTimeout(s),c(),c=W};let a;return s=>{const i=m(e),v=m(t.maxWait);return o&&f(o),i<=0||v!==void 0&&v<=0?(r&&(f(r),r=null),Promise.resolve(s())):new Promise((n,d)=>{c=t.rejectOnCancel?d:n,a=s,v&&!r&&(r=setTimeout(()=>{o&&f(o),r=null,n(a())},v)),o=setTimeout(()=>{r&&f(r),r=null,n(s())},i)})}}function ie(...e){let t=0,o,r=!0,c=W,f,a,l,s,i;!te(e[0])&&typeof e[0]=="object"?{delay:a,trailing:l=!0,leading:s=!0,rejectOnCancel:i=!1}=e[0]:[a,l=!0,s=!0,i=!1]=e;const v=()=>{o&&(clearTimeout(o),o=void 0,c(),c=W)};return d=>{const h=m(a),p=Date.now()-t,S=()=>f=d();return v(),h<=0?(t=Date.now(),S()):(p>h&&(s||!r)?(t=Date.now(),S()):l&&(f=new Promise((E,g)=>{c=i?g:E,o=setTimeout(()=>{t=Date.now(),r=!0,E(S()),v()},Math.max(0,h-p))})),!s&&!o&&(o=setTimeout(()=>r=!0,h)),r=!1,f)}}function j(e){return Array.isArray(e)?e:[e]}function ue(e){return J()}function ce(e,t=200,o={}){return Y(se(t,o),e)}function ae(e,t=200,o=!1,r=!0,c=!1){return Y(ie(t,o,r,c),e)}function q(e,t=!0,o){ue()?$(e,o):t?e():N(e)}function fe(e,t,o){return H(e,t,{...o,immediate:!0})}const A=ne?window:void 0;function y(e){var t;const o=m(e);return(t=o==null?void 0:o.$el)!=null?t:o}function X(...e){const t=[],o=()=>{t.forEach(l=>l()),t.length=0},r=(l,s,i,v)=>(l.addEventListener(s,i,v),()=>l.removeEventListener(s,i,v)),c=O(()=>{const l=j(m(e[0])).filter(s=>s!=null);return l.every(s=>typeof s!="string")?l:void 0}),f=fe(()=>{var l,s;return[(s=(l=c.value)==null?void 0:l.map(i=>y(i)))!=null?s:[A].filter(i=>i!=null),j(m(c.value?e[1]:e[0])),j(oe(c.value?e[2]:e[1])),m(c.value?e[3]:e[2])]},([l,s,i,v])=>{if(o(),!(l!=null&&l.length)||!(s!=null&&s.length)||!(i!=null&&i.length))return;const n=re(v)?{...v}:v;t.push(...l.flatMap(d=>s.flatMap(h=>i.map(p=>r(d,h,p,n)))))},{flush:"post"}),a=()=>{f(),o()};return Q(o),a}function de(){const e=M(!1),t=J();return t&&$(()=>{e.value=!0},t),e}function ve(e){const t=de();return O(()=>(t.value,!!e()))}function he(e,t,o={}){const{window:r=A,...c}=o;let f;const a=ve(()=>r&&"ResizeObserver"in r),l=()=>{f&&(f.disconnect(),f=void 0)},s=O(()=>{const n=m(e);return Array.isArray(n)?n.map(d=>y(d)):[y(n)]}),i=H(s,n=>{if(l(),a.value&&r){f=new ResizeObserver(t);for(const d of n)d&&f.observe(d,c)}},{immediate:!0,flush:"post"}),v=()=>{l(),i()};return Q(v),{isSupported:a,stop:v}}function me(e,t={width:0,height:0},o={}){const{window:r=A,box:c="content-box"}=o,f=O(()=>{var n,d;return(d=(n=y(e))==null?void 0:n.namespaceURI)==null?void 0:d.includes("svg")}),a=M(t.width),l=M(t.height),{stop:s}=he(e,([n])=>{const d=c==="border-box"?n.borderBoxSize:c==="content-box"?n.contentBoxSize:n.devicePixelContentBoxSize;if(r&&f.value){const h=y(e);if(h){const p=h.getBoundingClientRect();a.value=p.width,l.value=p.height}}else if(d){const h=j(d);a.value=h.reduce((p,{inlineSize:S})=>p+S,0),l.value=h.reduce((p,{blockSize:S})=>p+S,0)}else a.value=n.contentRect.width,l.value=n.contentRect.height},o);q(()=>{const n=y(e);n&&(a.value="offsetWidth"in n?n.offsetWidth:t.width,l.value="offsetHeight"in n?n.offsetHeight:t.height)});const i=H(()=>y(e),n=>{a.value=n?t.width:0,l.value=n?t.height:0});function v(){s(),i()}return{width:a,height:l,stop:v}}const U=1;function be(e,t={}){const{throttle:o=0,idle:r=200,onStop:c=W,onScroll:f=W,offset:a={left:0,right:0,top:0,bottom:0},eventListenerOptions:l={capture:!1,passive:!0},behavior:s="auto",window:i=A,onError:v=u=>{console.error(u)}}=t,n=M(0),d=M(0),h=O({get(){return n.value},set(u){S(u,void 0)}}),p=O({get(){return d.value},set(u){S(void 0,u)}});function S(u,R){var b,_,C,L;if(!i)return;const w=m(e);if(!w)return;(C=w instanceof Document?i.document.body:w)==null||C.scrollTo({top:(b=m(R))!=null?b:p.value,left:(_=m(u))!=null?_:h.value,behavior:m(s)});const x=((L=w==null?void 0:w.document)==null?void 0:L.documentElement)||(w==null?void 0:w.documentElement)||w;h!=null&&(n.value=x.scrollLeft),p!=null&&(d.value=x.scrollTop)}const E=M(!1),g=k({left:!0,right:!1,top:!0,bottom:!1}),T=k({left:!1,right:!1,top:!1,bottom:!1}),B=u=>{E.value&&(E.value=!1,T.left=!1,T.right=!1,T.top=!1,T.bottom=!1,c(u))},K=ce(B,o+r),P=u=>{var R;if(!i)return;const b=((R=u==null?void 0:u.document)==null?void 0:R.documentElement)||(u==null?void 0:u.documentElement)||y(u),{display:_,flexDirection:C,direction:L}=getComputedStyle(b),w=L==="rtl"?-1:1,x=b.scrollLeft;T.left=x<n.value,T.right=x>n.value;const F=Math.abs(x*w)<=(a.left||0),V=Math.abs(x*w)+b.clientWidth>=b.scrollWidth-(a.right||0)-U;_==="flex"&&C==="row-reverse"?(g.left=V,g.right=F):(g.left=F,g.right=V),n.value=x;let D=b.scrollTop;u===i.document&&!D&&(D=i.document.body.scrollTop),T.top=D<d.value,T.bottom=D>d.value;const z=Math.abs(D)<=(a.top||0),G=Math.abs(D)+b.clientHeight>=b.scrollHeight-(a.bottom||0)-U;_==="flex"&&C==="column-reverse"?(g.top=G,g.bottom=z):(g.top=z,g.bottom=G),d.value=D},I=u=>{var R;if(!i)return;const b=(R=u.target.documentElement)!=null?R:u.target;P(b),E.value=!0,K(u),f(u)};return X(e,"scroll",o?ae(I,o,!0,!1):I,l),q(()=>{try{const u=m(e);if(!u)return;P(u)}catch(u){v(u)}}),X(e,"scrollend",B,l),{x:h,y:p,isScrolling:E,arrivedState:g,directions:T,measure(){const u=m(e);i&&u&&P(u)}}}export{me as a,he as b,y as c,be as u};
